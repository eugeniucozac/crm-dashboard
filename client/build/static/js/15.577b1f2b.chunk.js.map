{
  "version": 3,
  "sources": [
    "components/shared/Fields/CheckboxField.js",
    "components/Dashboard/Project/Quotes/QuoteCreated.js",
    "components/shared/KPEditor.js",
    "components/Dashboard/Project/Quotes/Editor.js",
    "components/Dashboard/Project/Quotes/EditQuote.js"
  ],
  "names": [
    "CheckboxField",
    "name",
    "value",
    "label",
    "onChange",
    "row",
    "as",
    "Col",
    "className",
    "type",
    "QuoteCreated",
    "state",
    "total",
    "content",
    "quoteTemplates",
    "e",
    "setState",
    "target",
    "onCreate",
    "a",
    "preventDefault",
    "prepend",
    "sections",
    "openEditor",
    "values",
    "props",
    "toggleModal",
    "addGeneratedQuote",
    "services",
    "addQuotePrices",
    "context",
    "map",
    "indexSection",
    "filteredServices",
    "service",
    "indexService",
    "find",
    "item",
    "id",
    "price",
    "quoteServices",
    "this",
    "then",
    "alphabet",
    "initialValues",
    "obj",
    "toString",
    "getData",
    "enableReinitialize",
    "render",
    "errors",
    "noValidate",
    "onSubmit",
    "toUpperCase",
    "remove",
    "push",
    "replace",
    "lg",
    "defaultValue",
    "styles",
    "sign",
    "template",
    "key",
    "variant",
    "Component",
    "KPEditor",
    "ckeditorTextarea",
    "React",
    "createRef",
    "data",
    "addContentEditor",
    "initCkeditor",
    "addContentEditorRedux",
    "ckeditor",
    "window",
    "CKEDITOR",
    "allowedContent",
    "removePlugins",
    "height",
    "addCss",
    "instances",
    "on",
    "cols",
    "rows",
    "ref",
    "Editor",
    "pdfConvert",
    "numberQuote",
    "Math",
    "floor",
    "random",
    "checked",
    "onSave",
    "saveHtml",
    "quoteName",
    "htmltopdf",
    "hideModal",
    "addQuote",
    "projectId",
    "quotesLength",
    "contentEditor",
    "resetContentEditor",
    "history",
    "addHistory",
    "consultantId",
    "project",
    "addressBook",
    "addressName",
    "postCode",
    "city",
    "country",
    "converted",
    "statusId",
    "address",
    "templateName",
    "getProjects",
    "loadTemplate",
    "prevProps",
    "getHtml",
    "createdQuote",
    "prices",
    "head",
    "moment",
    "Date",
    "format",
    "quoteBlock",
    "join",
    "quotePrice",
    "index",
    "response",
    "isModalOpen",
    "Modal",
    "show",
    "onHide",
    "centered",
    "size",
    "Form",
    "Header",
    "closeButton",
    "ModalBody",
    "ModalFooter",
    "Button",
    "onClick",
    "compose",
    "withRouter",
    "connect",
    "selectGeneratedQuotes",
    "selectContentEditor",
    "selectProject",
    "selectQuotePrices",
    "selectAuthorizationId",
    "getGeneratedQuote",
    "resetGeneratedQuote",
    "getContentEditor",
    "getQuotePrices",
    "EditQuote",
    "error",
    "loading",
    "quotes",
    "servicesExercises",
    "getTemplates",
    "computedMatch"
  ],
  "mappings": "mGAAA,sFAIaA,EAAgB,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,KAAMC,EAAkC,EAAlCA,MAAOC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,SAAoB,EAAVC,IAC5D,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAWC,GAAIC,KACb,2BAAOC,UAAU,oBACf,kBAAC,IAAD,CACEC,KAAK,WACLL,SAAUA,EACVI,UAAS,2BAAsBN,EAAQ,UAAY,IACnDD,KAAMA,EACNC,MAAOA,IAET,uBAAGM,UAAU,uBAEf,8BAAOL,O,uMCZTO,E,4MACJC,MAAQ,CACNC,MAAO,EACPC,QAAS,GACTC,eAAgB,I,EASlBV,SAAW,SAAAW,GACT,EAAKC,SAAL,eAAiBD,EAAEE,OAAOhB,KAAOc,EAAEE,OAAOf,S,EAG5CgB,S,uCAAW,WAAOH,EAAGJ,GAAV,SAAAQ,EAAA,sDACTJ,EAAEK,iBACF,EAAKJ,SAAS,CAAEK,QAASV,EAAMW,WAFtB,2C,0DAKXC,W,uCAAa,WAAOR,EAAGS,GAAV,2BAAAL,EAAA,6DACXJ,EAAEK,iBADS,EAEmE,EAAKK,MAA3EC,EAFG,EAEHA,YAAaC,EAFV,EAEUA,kBAAmBC,EAF7B,EAE6BA,SAAUP,EAFvC,EAEuCA,QAASQ,EAFhD,EAEgDA,eACrDC,EAAUT,EAAQU,KAAI,SAACT,EAAUU,GACrC,IAAMC,EAAmBX,EAASM,SAASG,KAAI,SAACG,EAASC,GAAkB,IAAD,EACvCP,EAASQ,MAAK,SAAAC,GAAI,OAAIA,EAAKC,IAAMJ,EAAQI,MAC1E,MAAO,CAAErC,KAF+D,EAChEA,KACOY,QAFyD,EAC1DA,QACU0B,MAFgD,EACjDA,MACQJ,eAAcH,mBAE/C,OAAO,2BAAKV,GAAZ,IAAsBM,SAAUK,OARvB,SAULJ,EAAeL,EAAOgB,eAVjB,uBAWLb,EAAkBG,GAXb,uBAYLJ,GAAY,GAZP,2C,0HAfQ,IAAD,OAClBe,KAAKhB,MAAMX,iBAAiB4B,MAAK,SAAA5B,GAC/B,EAAKE,SAAS,CAAEF,wB,+BA4BV,IAAD,SAC2C2B,KAAKhB,MAA/CJ,EADD,EACCA,QAAmBsB,GADpB,EACUf,SADV,EACoBe,UAAUvC,EAD9B,EAC8BA,SAC7BU,EAAmB2B,KAAK9B,MAAxBG,eAYR,OACE,yBAAKN,UAAU,YACb,yBAAKA,UAAU,iBACb,wBAAIA,UAAU,QAAd,oBACA,kBAAC,IAAD,CACEoC,cAhBQ,WACd,IAAIC,EAAM,GAOV,OANAxB,EAAQU,KAAI,WAAeC,GAAkB,IAA9BJ,EAA6B,EAA7BA,SACb,OAAOA,EAASG,KAAI,SAACG,EAASC,GAAkB,IACtCI,EAAUX,EAASQ,MAAK,SAAAC,GAAI,OAAIA,EAAKC,IAAMJ,EAAQI,MAAnDC,MACRM,EAAG,2BAAQA,GAAR,4BAAiBF,EAASX,IAA1B,OAA0CG,GAAiBI,EAAMO,mBAGjE,CAAEN,cAAc,eAAMK,IAQRE,GACfC,oBAAoB,EACpBC,OAAQ,YAAyB,IAAtBC,EAAqB,EAArBA,OAAQ1B,EAAa,EAAbA,OACjB,OACE,kBAAC,IAAD,CAAM2B,YAAU,EAACC,SAAU,SAAArC,GAAC,OAAI,EAAKQ,WAAWR,EAAGS,EAAQ0B,KACxD7B,EAAQU,KAAI,WAAqBC,GAArB,IAAG/B,EAAH,EAAGA,KAAM2B,EAAT,EAASA,SAAT,OACX,oCACE,kBAAC,IAAD,CAAKpB,UAAU,qBACb,kBAAC,IAAD,KACE,sCACWmC,EAASX,GAAcqB,cADlC,KACmDpD,KAIvD,kBAAC,IAAD,CACEA,KAAI,mBAAc+B,EAAd,aACJiB,OAAQ,cAAGK,OAAH,EAAWC,KAAX,EAAiBC,QAAjB,OACN,oCACG5B,EAASG,KAAI,WAASI,GAAkB,IAAxBG,EAAuB,EAAvBA,GAAuB,EACdV,EAASQ,MAAK,SAAAC,GAAI,OAAIA,EAAKC,IAAMA,KAAjDrC,EAD8B,EAC9BA,KAAMsC,EADwB,EACxBA,MACd,OACE,kBAAC,IAAD,CAAK/B,UAAU,gBACb,kBAAC,IAAD,CAAKiD,GAAG,KACN,sCACWd,EAASX,GAAcqB,cADlC,IACkDlB,EAAe,EADjE,KACsElC,IAGxE,kBAAC,IAAD,CAAKwD,GAAG,KACN,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKA,GAAG,KACN,kBAAC,IAAD,CACExD,KAAI,wBAAmB0C,EAASX,IAA5B,OAA4CG,GAChD3B,UAAU,eACVC,KAAK,OACLiD,aAAcnB,KAGlB,kBAAC,IAAD,CAAKkB,GAAG,IAAIjD,UAAWmD,IAAOC,MAC5B,kBAAC,IAAD,qBAYtB,kBAAC,IAAD,CAAKpD,UAAU,QACb,kBAAC,IAAD,CAAKiD,GAAG,KACN,qDAEF,kBAAC,IAAD,CAAKA,GAAG,KACN,kBAAC,IAAD,CAAanD,GAAG,SAASL,KAAK,eAAeG,SAAUA,GACpDU,EAAeiB,KAAI,SAAC8B,EAAUvB,GAAX,OAClB,4BAAQwB,IAAKxB,EAAIpC,MAAO2D,GACrBA,SAMX,kBAAC,IAAD,CAAKrD,UAAU,uBACb,kBAAC,IAAD,CAAKiD,GAAI,GACP,kBAAC,IAAD,CAAQM,QAAQ,UAAUtD,KAAK,SAASD,UAAU,oBAAlD,iC,GA1HKwD,aAyIZtD,O,kKC5IMuD,G,yDACnB,WAAYxC,GAAQ,IAAD,8BACjB,cAAMA,IACDyC,iBAAmBC,IAAMC,YAFb,E,gEAKE,IAAD,EACiB3B,KAAKhB,MAAhC4C,EADU,EACVA,KAAMC,EADI,EACJA,iBACd7B,KAAK8B,aAAaD,GAClB7B,KAAKzB,SAAS,CAAEqD,W,mCAGLG,GACX,IAAMC,EAAWC,OAAOC,SAExBF,EAASjB,QAAQ,WAAY,CAC3BoB,gBAAgB,EAChBC,cAAe,aACfC,OAAQ,MAEVL,EAASM,OACP,iKAEFN,EAASO,UAAUP,SAASQ,GAAG,UAAU,WACvCT,EAAsB/B,KAAKM,gB,+BAK7B,OACE,6BACE,8BAAUmC,KAAK,KAAKjF,KAAK,WAAWkF,KAAK,KAAKC,IAAK3C,KAAKyB,iBAAkBhE,MAAOuC,KAAKhB,MAAM4C,Y,GA/B9DL,c,iFCkBhCqB,E,4MACJ1E,MAAQ,CACN2E,YAAY,EACZjB,KAAM,GACNkB,YAAaC,KAAKC,MAAsB,IAAhBD,KAAKE,W,EAG/BtF,SAAW,SAAAW,GACa,aAAlBA,EAAEE,OAAOR,OACPM,EAAEE,OAAO0E,QACX,EAAK3E,SAAS,CAAEsE,YAAY,IAE5B,EAAKtE,SAAS,CAAEsE,YAAY,M,EAoFlCM,O,uCAAS,WAAM7E,GAAN,mDAAAI,EAAA,6DACPJ,EAAEK,iBADK,EAkBH,EAAKK,MAfPoE,EAHK,EAGLA,SACAC,EAJK,EAILA,UACAC,EALK,EAKLA,UACAC,EANK,EAMLA,UACAC,EAPK,EAOLA,SACAC,EARK,EAQLA,UACAC,EATK,EASLA,aACAC,EAVK,EAULA,cACAC,EAXK,EAWLA,mBACAC,EAZK,EAYLA,QACAC,EAbK,EAaLA,WACAC,EAdK,EAcLA,aAdK,IAeLC,QACEC,YAAeC,EAhBZ,EAgBYA,YAAaC,EAhBzB,EAgByBA,SAAUC,EAhBnC,EAgBmCA,KAAMC,EAhBzC,EAgByCA,QAIxCxB,EAAe,EAAK3E,MAApB2E,WApBD,SAqBDW,EAASC,EAAU1C,QAAQ,MAAO,IAAK,CAAEvD,KAAM6F,EAAWiB,UAAWzB,IArBpE,gBAsBNa,GAtBM,qCAsBiBI,EAAWL,EAAU1C,QAAQ,MAAO,IAAK,CAAEwD,SAAU,EAAGR,iBAtBzE,wBAuBDX,EAASC,EAAWM,GAvBnB,gBAwBPd,GAxBO,uCAyBES,EAAUD,EAAW,CAC1BI,YACAC,eACAc,QAAQ,GAAD,OAAKN,EAAL,aAAqBC,EAArB,aAAkCC,EAAlC,aAA2CC,KA5B/C,yBA8BDd,GAAU,GA9BT,yBA+BDK,IA/BC,QAgCP,EAAKrF,SAAS,CAAEsE,YAAY,IAC5BgB,EAAQ/C,KAAR,6BAAmC2C,IAjC5B,4C,wHA/EY,IAAD,EACoBzD,KAAKhB,MAAnCyF,EADU,EACVA,aAAcC,EADJ,EACIA,YACtB1E,KAAK2E,aAAaF,GAClBC,M,yCAGiBE,GAAY,IACrBH,EAAiBzE,KAAKhB,MAAtByF,aACJA,IAAiBG,EAAUH,cAC7BzE,KAAK2E,aAAaF,K,mCAITA,GAAe,IAAD,SAYrBzE,KAAKhB,MAVP6F,EAFuB,EAEvBA,QACAC,EAHuB,EAGvBA,aACApB,EAJuB,EAIvBA,aACAxD,EALuB,EAKvBA,SACA2B,EANuB,EAMvBA,iBACA4B,EAPuB,EAOvBA,UACAsB,EARuB,EAQvBA,OARuB,IASvBf,QACEC,YAAeC,EAVM,EAUNA,YAAaC,EAVP,EAUOA,SAAUC,EAVjB,EAUiBA,KAAMC,EAVvB,EAUuBA,QAG1CW,EAAI,qDACWC,IAAO,IAAIC,MAAQC,OAAO,eADrC,6CAEgB1B,EAFhB,YAE6BwB,IAAO,IAAIC,MAAQC,OAAO,UAFvD,aAEqEzB,EAAe,EAFpF,sMAOYD,EAPZ,gCAO6CS,EAP7C,aAO6DC,EAP7D,aAO0EC,EAP1E,aAOmFC,EAPnF,uCAUJe,EAAU,mCAA+BN,EAC5CxF,KAAI,SAACM,EAAML,GACV,MAAM,OAAN,OAAcW,EAASX,GAAcqB,cAArC,aAAuDhB,EAAKpC,KAAKoD,cAAjE,0BACEhB,EAAKT,SACJG,KACC,SAAAG,GAAO,oBACES,EAAST,EAAQF,cAAcqB,cADjC,YACkDnB,EAAQC,aAAe,EADzE,aAC+ED,EAAQjC,KADvF,gBAEHiC,EAAQrB,YAGbiH,KAAK,SAETA,KAAK,KAZQ,UAcVC,EAAU,mCAA+BR,EAC5CxF,KAAI,SAACM,EAAML,GACV,MAAM,OAAN,OAAcW,EAASX,GAAcqB,cAArC,aAAuDhB,EAAKpC,KAA5D,mCACWoC,EAAKT,SACXG,KAAI,SAACG,EAAS8F,GACb,MAAM,WAAN,OAAkBrF,EAAST,EAAQF,cAAcqB,cAAjD,YAAkEnB,EAAQC,aAAe,EAAzF,aACED,EAAQjC,KADV,4DAEiDuH,EAAO,IAAD,OAAKQ,IAF5D,kCAIDF,KAAK,KAPV,eASDA,KAAK,KAXQ,UAahBR,EAAQJ,GAAcxE,MAAK,SAAAuF,GACzB,EAAKjH,SAAS,CACZqD,KAAM4D,EACHzE,QAAQ,kCAAmCqE,GAC3CrE,QAAQ,2BAA4BiE,GACpCjE,QAAQ,kCAAmCuE,KAEhDzD,EACE2D,EACGzE,QAAQ,kCAAmCqE,GAC3CrE,QAAQ,2BAA4BiE,GACpCjE,QAAQ,kCAAmCuE,S,+BAyC1C,IAAD,EACsBtF,KAAK9B,MAA1B0D,EADD,EACCA,KAAMiB,EADP,EACOA,WADP,EAE8C7C,KAAKhB,MAAlDyG,EAFD,EAECA,YAAalC,EAFd,EAEcA,UAAW1B,EAFzB,EAEyBA,iBAChC,OACE,kBAAC6D,EAAA,EAAD,CAAOC,KAAMF,GAAe7D,EAAMgE,OAAQrC,EAAWxF,UAAU,SAAS8H,UAAQ,EAACC,KAAK,MACpF,kBAACC,EAAA,EAAD,CAAMrF,YAAU,EAACC,SAAUX,KAAKmD,QAC9B,kBAACuC,EAAA,EAAMM,OAAP,CAAcjI,UAAU,aAAakI,aAAW,GAC9C,wBAAIlI,UAAU,mCAAd,WAEF,kBAACmI,EAAA,EAAD,KACE,kBAAC,EAAD,CAAUtE,KAAMA,EAAMC,iBAAkBA,KAE1C,kBAACsE,EAAA,EAAD,KACE,kBAAC5I,EAAA,EAAD,CAAeC,KAAK,aAAaC,MAAOoF,EAAYnF,MAAM,qBAAqBC,SAAUqC,KAAKrC,WAC9F,kBAACyI,EAAA,EAAD,CAAQ9E,QAAQ,UAAUvD,UAAU,yBAAyBsI,QAAS,kBAAM9C,GAAU,KAAtF,UAGA,kBAAC6C,EAAA,EAAD,CAAQ9E,QAAQ,UAAUtD,KAAK,SAASD,UAAU,8BAAlD,e,GArJSwD,aAyKN+E,sBACbC,IACAC,aAZsB,SAACtI,EAAOc,GAC9B,MAAO,CACL8F,aAAc2B,YAAmBvI,GACjCyF,cAAe+C,YAAkBxI,GACjC8F,QAAS2C,YAAYzI,EAAOc,EAAMyE,WAClCsB,OAAQ6B,YAAgB1I,GACxB6F,aAAc8C,YAAmB3I,MAMV,CACvB4I,sBACAC,wBACAC,qBACAnF,qBACA+B,uBACAc,gBACAuC,qBATWX,CAWb1D,I,qMCrLIsE,G,sOACJhJ,MAAQ,G,EAIRP,SAAW,SAAAW,GACT,EAAKC,SAAL,eAAiBD,EAAEE,OAAOhB,KAAOc,EAAEE,OAAOf,S,oGAGlC,IAAD,EAWHuC,KAAKhB,MAXF,KAELmI,MAFK,EAGLC,QAHK,EAILC,OAJK,EAKLC,kBALK,EAMLC,aANK,EAOL1C,QAPK,EAQLf,WARK,EASLN,SATK,EAULgE,cAE4ExH,KAAK9B,OAZ5E,EAYCuH,YAZD,EAYc5G,SAZd,EAYwBqB,SAZxB,EAYkCtB,QAZlC,EAY2CyE,UAZ3C,EAYsDoB,aAE7D,OACE,6BAAS1G,UAAU,QACjB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,OAEF,kBAAC,IAAD,CAAKiD,GAAG,KAAKjD,UAAU,kBACrB,kBAAC,IAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,yBAAKA,UAAU,YAAf,uB,GAjCQwD,cA+CT+E,4BAAQC,IAAYC,aAFX,SAAAtI,GAAK,MAAK,KAE0B,IAA7CoI,CAAkDY",
  "file": "static/js/15.577b1f2b.chunk.js",
  "sourcesContent": [
    "import React from \"react\"\nimport { FormGroup, FormControl, Row, Col } from \"react-bootstrap\"\nimport PropTypes from \"prop-types\"\n\nexport const CheckboxField = ({ name, value, label, onChange, row }) => {\n  return (\n    <Row>\n      <FormGroup as={Col}>\n        <label className=\"ms-checkbox-wrap\">\n          <FormControl\n            type=\"checkbox\"\n            onChange={onChange}\n            className={`form-check-input ${value ? \"checked\" : \"\"}`}\n            name={name}\n            value={value}\n          />\n          <i className=\"ms-checkbox-check\"></i>\n        </label>\n        <span>{label}</span>\n      </FormGroup>\n    </Row>\n  )\n}\n\nCheckboxField.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.bool.isRequired,\n  label: PropTypes.string.isRequired,\n}\n",
    "import React, { Component } from \"react\"\nimport { Row, Col, Button, Form, FormControl } from \"react-bootstrap\"\nimport { Formik, FieldArray, Field } from \"formik\"\nimport { FaPoundSign } from \"react-icons/fa\"\nimport styles from \"./Quotes.module.css\"\n\nclass QuoteCreated extends Component {\n  state = {\n    total: 0,\n    content: \"\",\n    quoteTemplates: [],\n  }\n\n  componentDidMount() {\n    this.props.quoteTemplates().then(quoteTemplates => {\n      this.setState({ quoteTemplates })\n    })\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n\n  onCreate = async (e, state) => {\n    e.preventDefault()\n    this.setState({ prepend: state.sections })\n  }\n\n  openEditor = async (e, values) => {\n    e.preventDefault()\n    const { toggleModal, addGeneratedQuote, services, prepend, addQuotePrices } = this.props\n    const context = prepend.map((sections, indexSection) => {\n      const filteredServices = sections.services.map((service, indexService) => {\n        const { name, content, price } = services.find(item => item.id == service.id)\n        return { name, content, price, indexService, indexSection }\n      })\n      return { ...sections, services: filteredServices }\n    })\n    await addQuotePrices(values.quoteServices)\n    await addGeneratedQuote(context)\n    await toggleModal(true)\n  }\n\n  render() {\n    const { prepend, services, alphabet, onChange } = this.props\n    const { quoteTemplates } = this.state\n    const getData = () => {\n      let obj = {}\n      prepend.map(({ services }, indexSection) => {\n        return services.map((service, indexService) => {\n          const { price } = services.find(item => item.id == service.id)\n          obj = { ...obj, [`${alphabet[indexSection]}${indexService}`]: price.toString() }\n        })\n      })\n      return { quoteServices: { ...obj } }\n    }\n\n    return (\n      <div className=\"ms-panel\">\n        <div className=\"ms-panel-body\">\n          <h6 className=\"mb-3\">Generate a Quote</h6>\n          <Formik\n            initialValues={getData()}\n            enableReinitialize={true}\n            render={({ errors, values }) => {\n              return (\n                <Form noValidate onSubmit={e => this.openEditor(e, values, errors)}>\n                  {prepend.map(({ name, services }, indexSection) => (\n                    <>\n                      <Row className=\"section mt-2 mb-1\">\n                        <Col>\n                          <p>\n                            Section {alphabet[indexSection].toUpperCase()}: {name}\n                          </p>\n                        </Col>\n                      </Row>\n                      <FieldArray\n                        name={`sections.${indexSection}.services`}\n                        render={({ remove, push, replace }) => (\n                          <>\n                            {services.map(({ id }, indexService) => {\n                              const { name, price } = services.find(item => item.id == id)\n                              return (\n                                <Row className=\"service mt-2\">\n                                  <Col lg=\"9\">\n                                    <p>\n                                      Service {alphabet[indexSection].toUpperCase()}.{indexService + 1}: {name}\n                                    </p>\n                                  </Col>\n                                  <Col lg=\"3\">\n                                    <Row>\n                                      <Col lg=\"9\">\n                                        <Field\n                                          name={`quoteServices.${alphabet[indexSection]}${indexService}`}\n                                          className=\"form-control\"\n                                          type=\"text\"\n                                          defaultValue={price}\n                                        />\n                                      </Col>\n                                      <Col lg=\"1\" className={styles.sign}>\n                                        <FaPoundSign />\n                                      </Col>\n                                    </Row>\n                                  </Col>\n                                </Row>\n                              )\n                            })}\n                          </>\n                        )}\n                      />\n                    </>\n                  ))}\n                  <Row className=\"my-3\">\n                    <Col lg=\"3\">\n                      <p>Choose quote template</p>\n                    </Col>\n                    <Col lg=\"9\">\n                      <FormControl as=\"select\" name=\"templateName\" onChange={onChange}>\n                        {quoteTemplates.map((template, id) => (\n                          <option key={id} value={template}>\n                            {template}\n                          </option>\n                        ))}\n                      </FormControl>\n                    </Col>\n                  </Row>\n                  <Row className=\"justify-content-end\">\n                    <Col lg={6}>\n                      <Button variant=\"primary\" type=\"submit\" className=\"w-50 float-right\">\n                        Open/Change Quote\n                      </Button>\n                    </Col>\n                  </Row>\n                </Form>\n              )\n            }}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default QuoteCreated\n",
    "import React, { Component } from \"react\"\nimport \"ckeditor4/ckeditor.js\"\n\nexport default class KPEditor extends Component {\n  constructor(props) {\n    super(props)\n    this.ckeditorTextarea = React.createRef()\n  }\n\n  componentDidMount() {\n    const { data, addContentEditor } = this.props\n    this.initCkeditor(addContentEditor)\n    this.setState({ data })\n  }\n\n  initCkeditor(addContentEditorRedux) {\n    const ckeditor = window.CKEDITOR\n\n    ckeditor.replace(\"ckeditor\", {\n      allowedContent: true,\n      removePlugins: \"sourcearea\",\n      height: 650,\n    })\n    ckeditor.addCss(\n      \".cke_editable{ zoom: 1.4; margin: 0 } .cke_editable .hide{display: none!important} .cke_editable .head{margin-top: 1rem} .cke_editable .head h2{display:none}\"\n    )\n    ckeditor.instances.ckeditor.on(\"change\", function () {\n      addContentEditorRedux(this.getData())\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <textarea cols=\"80\" name=\"ckeditor\" rows=\"30\" ref={this.ckeditorTextarea} value={this.props.data} />\n      </div>\n    )\n  }\n}\n",
    "import React, { Component } from \"react\"\r\nimport { Button, Modal, ModalBody, Form, ModalFooter } from \"react-bootstrap\"\r\nimport { CheckboxField } from \"@components/shared/Fields/CheckboxField\"\r\nimport KPEditor from \"@components/shared/KPEditor\"\r\nimport { connect } from \"react-redux\"\r\nimport { compose } from \"redux\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport {\r\n  getGeneratedQuote,\r\n  resetGeneratedQuote,\r\n  getContentEditor,\r\n  addContentEditor,\r\n  resetContentEditor,\r\n  getQuotePrices,\r\n} from \"@actions/quote\"\r\nimport { selectAuthorizationId } from \"@selectors/authorization\"\r\nimport { getProjects } from \"@actions/project\"\r\nimport { selectProject } from \"@selectors/project\"\r\nimport { selectGeneratedQuotes, selectContentEditor, selectQuotePrices } from \"@selectors/quote\"\r\nimport moment from \"moment\"\r\n\r\nclass Editor extends Component {\r\n  state = {\r\n    pdfConvert: false,\r\n    data: \"\",\r\n    numberQuote: Math.floor(Math.random() * 1000000),\r\n  }\r\n\r\n  onChange = e => {\r\n    if (e.target.type === \"checkbox\") {\r\n      if (e.target.checked) {\r\n        this.setState({ pdfConvert: true })\r\n      } else {\r\n        this.setState({ pdfConvert: false })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { templateName, getProjects } = this.props\r\n    this.loadTemplate(templateName)\r\n    getProjects()\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { templateName } = this.props\r\n    if (templateName !== prevProps.templateName) {\r\n      this.loadTemplate(templateName)\r\n    }\r\n  }\r\n\r\n  loadTemplate(templateName) {\r\n    const {\r\n      getHtml,\r\n      createdQuote,\r\n      quotesLength,\r\n      alphabet,\r\n      addContentEditor,\r\n      projectId,\r\n      prices,\r\n      project: {\r\n        addressBook: { addressName, postCode, city, country },\r\n      },\r\n    } = this.props\r\n    const head = `<div class=\"head\">\r\n                    <p>${moment(new Date()).format(\"D MMMM YYYY\")}</p>\r\n                    <p>Ref: ${projectId}.${moment(new Date()).format(\"YYMMDD\")}.Q${quotesLength + 1}</p>\r\n                    <p>John Doe</p>\r\n                    <p>KP Acoustics Ltd.</p>\r\n                    <p>By email to:</p>\r\n                    <p>Dear</p>\r\n                    <h2>${projectId}: <a class=\"address\">${addressName}, ${postCode}, ${city}, ${country}</a></h2>\r\n                  </div>`\r\n\r\n    const quoteBlock = `<div class=\"quote-block\">${createdQuote\r\n      .map((item, indexSection) => {\r\n        return `<h2>${alphabet[indexSection].toUpperCase()}. ${item.name.toUpperCase()}</h2>\r\n        ${item.services\r\n          .map(\r\n            service =>\r\n              `<h2>${alphabet[service.indexSection].toUpperCase()}.${service.indexService + 1}: ${service.name}</h2>${\r\n                service.content\r\n              }`\r\n          )\r\n          .join(\" \")}`\r\n      })\r\n      .join(\" \")}</div>`\r\n\r\n    const quotePrice = `<div class=\"quote-price\">${createdQuote\r\n      .map((item, indexSection) => {\r\n        return `<h3>${alphabet[indexSection].toUpperCase()}. ${item.name}</h3>\r\n          <table>${item.services\r\n            .map((service, index) => {\r\n              return `<tr><td>${alphabet[service.indexSection].toUpperCase()}.${service.indexService + 1}: ${\r\n                service.name\r\n              } </td><td style=\"text-align: right\"><strong> £${prices[`a${index}`]} (+VAT)</strong> </td></tr>`\r\n            })\r\n            .join(\" \")}</table>`\r\n      })\r\n      .join(\" \")}</div>`\r\n\r\n    getHtml(templateName).then(response => {\r\n      this.setState({\r\n        data: response\r\n          .replace('<div class=\"quote-block\"></div>', quoteBlock)\r\n          .replace('<div class=\"head\"></div>', head)\r\n          .replace('<div class=\"quote-price\"></div>', quotePrice),\r\n      })\r\n      addContentEditor(\r\n        response\r\n          .replace('<div class=\"quote-block\"></div>', quoteBlock)\r\n          .replace('<div class=\"head\"></div>', head)\r\n          .replace('<div class=\"quote-price\"></div>', quotePrice)\r\n      )\r\n    })\r\n  }\r\n\r\n  onSave = async e => {\r\n    e.preventDefault()\r\n    const {\r\n      saveHtml,\r\n      quoteName,\r\n      htmltopdf,\r\n      hideModal,\r\n      addQuote,\r\n      projectId,\r\n      quotesLength,\r\n      contentEditor,\r\n      resetContentEditor,\r\n      history,\r\n      addHistory,\r\n      consultantId,\r\n      project: {\r\n        addressBook: { addressName, postCode, city, country },\r\n      },\r\n    } = this.props\r\n\r\n    const { pdfConvert } = this.state\r\n    await addQuote(projectId.replace(/^0+/, \"\"), { name: quoteName, converted: pdfConvert })\r\n    !quotesLength && (await addHistory(projectId.replace(/^0+/, \"\"), { statusId: 2, consultantId }))\r\n    await saveHtml(quoteName, contentEditor)\r\n    pdfConvert &&\r\n      (await htmltopdf(quoteName, {\r\n        projectId,\r\n        quotesLength,\r\n        address: `${addressName}, ${postCode}, ${city}, ${country}`,\r\n      }))\r\n    await hideModal(false)\r\n    await resetContentEditor()\r\n    this.setState({ pdfConvert: false })\r\n    history.push(`/dashboard/project/${projectId}`)\r\n  }\r\n\r\n  render() {\r\n    const { data, pdfConvert } = this.state\r\n    const { isModalOpen, hideModal, addContentEditor } = this.props\r\n    return (\r\n      <Modal show={isModalOpen && data} onHide={hideModal} className=\"editor\" centered size=\"xl\">\r\n        <Form noValidate onSubmit={this.onSave}>\r\n          <Modal.Header className=\"bg-primary\" closeButton>\r\n            <h5 className=\"modal-title has-icon text-white\">Editor</h5>\r\n          </Modal.Header>\r\n          <ModalBody>\r\n            <KPEditor data={data} addContentEditor={addContentEditor} />\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <CheckboxField name=\"pdfConvert\" value={pdfConvert} label=\"Convert it to PDF?\" onChange={this.onChange} />\r\n            <Button variant=\"primary\" className=\"swal2-styled btn-light\" onClick={() => hideModal(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button variant=\"primary\" type=\"submit\" className=\"swal2-confirm swal2-styled\">\r\n              Save\r\n            </Button>\r\n          </ModalFooter>\r\n        </Form>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n    createdQuote: selectGeneratedQuotes(state),\r\n    contentEditor: selectContentEditor(state),\r\n    project: selectProject(state, props.projectId),\r\n    prices: selectQuotePrices(state),\r\n    consultantId: selectAuthorizationId(state),\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {\r\n    getGeneratedQuote,\r\n    resetGeneratedQuote,\r\n    getContentEditor,\r\n    addContentEditor,\r\n    resetContentEditor,\r\n    getProjects,\r\n    getQuotePrices,\r\n  })\r\n)(Editor)\r\n",
    "import React, { Component, Fragment } from \"react\"\nimport { Row, Col, Button, Form, FormGroup, FormLabel, FormControl } from \"react-bootstrap\"\nimport { FaTimes, FaPlus } from \"react-icons/fa\"\nimport { Formik, FieldArray, Field } from \"formik\"\nimport { connect } from \"react-redux\"\nimport { compose } from \"redux\"\nimport { withRouter } from \"react-router-dom\"\nimport { getQuotes, addQuote, getServices, getTemplates, getHtml } from \"@actions/quote\"\nimport { addHistory } from \"@actions/project\"\nimport { selectQuotes, loadingQuotes, quotesErrors, selectServices } from \"@selectors/quote\"\nimport { saveHtml, htmltopdf, quoteTemplates } from \"@services/quote\"\nimport { Loading } from \"@components/shared/Loading\"\nimport Sidebar from \"../../Sidebar\"\nimport { Breadcrumb } from \"@components/shared/Breadcrumb\"\nimport PropTypes from \"prop-types\"\nimport QuoteCreated from \"./QuoteCreated\"\nimport styles from \"./Quotes.module.css\"\nimport Editor from \"./Editor\"\nimport moment from \"moment\"\n\nclass EditQuote extends Component {\n  state = {}\n\n  componentDidMount() {}\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n\n  render() {\n    const {\n      error,\n      loading,\n      quotes,\n      servicesExercises,\n      getTemplates,\n      getHtml,\n      addHistory,\n      addQuote,\n      computedMatch,\n    } = this.props\n    const { isModalOpen, sections, alphabet, prepend, quoteName, templateName } = this.state\n\n    return (\n      <section className=\"main\">\n        <Row>\n          <Col>\n            <Sidebar />\n          </Col>\n          <Col lg=\"11\" className=\"container-left\">\n            <Breadcrumb />\n            <Row>\n              <Col>\n                <div className=\"ms-panel\">Quote Name</div>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </section>\n    )\n  }\n}\n\nEditQuote.propTypes = {}\n\nconst mapStateToProps = state => ({})\n\nexport default compose(withRouter, connect(mapStateToProps, {}))(EditQuote)\n"
  ],
  "sourceRoot": ""
}
